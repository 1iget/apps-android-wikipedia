/* Examples:
  - Barack Obama's collapsed infobox:

    <div class=app_table_container>
      <div class='app_table_collapsed_container app_table_collapsed_open'
        style='display: block'>
        <strong>Quick facts</strong><span class=app_span_collapse_text>: 44th
          President of the United States, Vice President …</span>
      </div>
      <table class='infobox vcard'
        style='width: 22em; margin-top: 0px; margin-bottom: 0px; display: none'>
        <tbody>
          <tr>
            <th colspan=2
              style='text-align: center; font-size: 125%; font-weight: bold; font-size: 130%'>
              <span class=fn>Barack Obama</span>
            </th>
          </tr>
          ...
        </tbody>
      </table>
      <div class='app_table_collapsed_bottom app_table_collapse_icon'
        style='display: none'>
        Close
      </div>
    </div>

  - Frankenstein's monster's expanded infobox:

    <div class=app_table_container>
      <div class='app_table_collapsed_container app_table_collapse_close app_table_collapse_icon'
        style='display: block'>
        <strong>Quick facts</strong><span class=app_span_collapse_text>: Created
          by, Information …</span>
      </div>
      <table class=infobox
        style='width: 22em; border-spacing: 2px 5px; margin-top: 0px; margin-bottom: 0px; display: block'>
        <tbody>
          <tr>
            <th colspan=2
              style='text-align: center; font-size: 125%; font-weight: bold; background: #dedee2;'>
              Frankenstein's monster
            </th>
          </tr>
          ...
        </tbody>
      </table>
      <div class='app_table_collapsed_bottom app_table_collapse_icon'
        style='display: block'>
        Close
      </div>
    </div>

  - Dracula's collapsed notes and references:

    <div class=app_table_container>
      <div class='app_table_collapsed_container app_table_collapsed_open'
        style='display: block'>
        <strong class=app_table_collapsed_caption>Tap to expand</strong>
      </div>
      <div class='reflist references-column-width'
        style='column-width: 30em; list-style-type: decimal; padding: 4px; display: none'>
          ...
      </div>
      <div class='app_table_collapsed_bottom app_table_collapse_icon'
        style='display: none'>
        Close
      </div>
    </div>
*/

.content table.infobox {
  font-size: 100%;
  border-style: none !important;
}

table.infobox caption {
  text-align: center;
  font-weight: bold;
}

/* The outermost table container. todo: rename. */
.app_table_container {
  width: 100%;
  margin-top: 14px;
  margin-bottom: 14px;
  border-radius: 2px;
  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.12), 0 0 1px 0 rgba(0, 0, 0, 0.18);
  clear: both;
}

.pagelib-theme-dark .app_table_container {
  box-shadow: none;
  border: 1px solid #43464a;
  background-color: #202020;
}

/* The outermost table container's header. todo: rename. */
.app_table_collapsed_container {
  width: 100%;
  padding: 12px 48px 12px 12px;
  line-height: 120%;
  background-color: #f8f8f8;
  background-repeat: no-repeat;
  background-position: 95% 50%;
  background-size: 16px 16px;
}

.pagelib-theme-dark .app_table_collapsed_container {
  background-color: #27292d;
}

/* The outermost table container header's subcaption text. todo: rename. */
.app_span_collapse_text {
  color: #808080;
}

/* The outermost table container's footer. todo: rename. */
.app_table_collapsed_bottom {
  width: 100%;
  color: #808080;
  padding: 12px 48px 12px 12px;
  line-height: 120%;
  border-radius: 0 0 2px 2px;
  background-color: #f8f8f8;
  background-repeat: no-repeat;
  background-position: 95% 50%;
  background-size: 16px 16px;
}

.pagelib-theme-dark .app_table_collapsed_bottom {
  background-color: #27292d;
}

.app_table_collapse_icon {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAAoBJREFUaEPtmE1uE0EQhW3Mzyk4iiU4AFn6BJbtvbfeIIQEAUEUCEnE/58ImCQCIRCSxVk4AGyyYwN5L+qOxuXXM90zthCiS/ricXV11avunhkrrWzZsmXLlu2fttlstjJGo9GN4XB4VY0tC+lcBhC+Dv6QwWBwTcUsA+lsCgTf9uI92I3rKrYp0tkECL1jxXt4pNScJkhnXSByw4oWrKu5dZHOOuDYbAqxEh4xlaMO0pkKjsZ9JbQMHjWVKxXpTKANMQ+suAQ2RM4kpDOSNlZxW4hK5Z7IHY10RsCV3zVCaoN7Yos5TY0opLOCNgo+VEIEn8EX45NwN5nb1KpEOkN0u90zKPRYCRB8Go/HFwivzViIXdRJakI6FRSPlX8iiio+gPN+Lq/BRzdWCncXc6KbkE6LW/lnqqDgoNfrnbM56MPYoYmVcJdZ0+ZQSGcRJkLSF7ZIgOlkMjmr8hDXxL6ZE+JpTBPS6UGSDrb0lUkcYq9MvIcxiH1n5kpQ+3lVE9JJkKADXhcTlsC4jsqjcE3sFeYHwXF6ic9gbunkBHT/ppioBB6vaPEezgGNF2jBwdVB129NghBR5zQE5nfcCqvcc7gFXWhi7kvK+QSPmoj3MEfsE44La++z0wsn/r2dFCD5hVOGayL2BTn3pDv54x5vByZQgq2s/bulgpSfKPv+XZP0gkGBTVN02bCJHVVbcEjtvJGmZkCCxHdFwVXAJraUBsGUDayBXwXnAjift0ShlcLdVloKUPOaD76CL0eFQc9vjK3sfzpVoPZNajCayBE1M+Y0uN/vX3TP5O/gJ/iGoMt+/G8BTZeg5Sv4QW3USK1+PFu2bNmyZcuW7f+1VusYzYvU+uNoBCAAAAAASUVORK5CYII=);
}

/* The outermost table container's collapsed header. todo: rename. */
.app_table_collapsed_open {
  border-radius: 2px;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAAoZJREFUaEPtmE1uE0EQhceEn1NwFEtwALL0CSzbe2+9QQgJAoKI8BeF8I8ImCQCIRCSxVk4QNhkxwZ4z+qOespvPNMzYxCiS/ricVVX1evpnukkWbJkyZIlS5Ys2f9ss9lsTr/fPz8ajV4Mh8Nv4Dv4OhgMLvr43wKaLkDLF3BEbdRIrT4+/wGhlxA8Br8MPxG74gf/adD7OjUYTeSYmjkmw5d18CMILoBZ37DFVw0E3lFaAqh5nROYBs5CUPC2arQCOuh1T2kQTLNer3cGF4cmIOFdEQ3bhOIfqt6CQ2qfJ7pJHJgBEt4dNgqatgXF76iegn1qZt5JgclkchqBd2ZgEdts6HOb0u12T+E52xV9FFNq9bm5Qm4Sb01CEY/YOMyvgxP/VNRfAOPehOJJrhjhAA5UBQRPmkwC+WvoxbNH1c6B7fUan2u2Ru6LhwNdgixmeA4WCpfBHPDK1SiD42SPBYeHCS5RFbQUNlC4rboX5BfiVqiwtnR6mIiVeBkWXMKe3Z+KmOcMvZ+VbVHpDGEBFOM2kU0MuTeExb2u901OEZWeL+m0xLwpwIF/R4c48ZUOTPTarfpykE4FC2JJH6uGgvfgrM/lNfjgYktBjx3kVD5jpLMItxJVD5yP4/H4HOG1iRURfUBKZwkxR/4n8Nn4JLgxD1jb9CpFOivQQdNtK6IuuCG1f7+Szop0eNeUoEi2RO3KSGcEXIn7RlAMm6JmFNIZC1birhC3FOTcUrVikc46YB+X/Ql4AsbeVDXqIJ11gbhNK1awoXLrIp1N4NYQoucgdk3lNEE6m8ItIsRfVWObIp1tANEbXjwmtLL/LUlnW3DLYAKXVawtkiVLlixZsn/Ysuw35enU+iMlJaQAAAAASUVORK5CYII=);
}

/* The outermost table container's expanded header. todo: rename. */
.app_table_collapse_close {
  border-radius: 2px 2px 0 0;
}

/* Temporary fix to prevent right side of collapsed tables from extending
   offscreen. todo: fix, add an example, or remove. */
.app_table_container, .app_table_collapsed_container, .app_table_collapse_close,
.app_table_collapse_icon {
  box-sizing: border-box;
}
/* Transform lifecycle:

- Original:
    <img class=foo style='width: 100px; height: 200px' width=3 height=4 src=/ srcset=/ alt=bar>

- Pending:
    <span class='foo pagelib-lazy-load-placeholder pagelib-lazy-load-placeholder-pending'
      style='width: 100px' data-class=foo data-style='width: 100px; height: 200px' data-width=3
      data-height=4 data-src=/ data-srcset=/ data-alt=bar>
      <span style='padding-top: 200%'></span>
    </span>

- Loading:
    <span class='foo pagelib-lazy-load-placeholder pagelib-lazy-load-placeholder-loading'
      style='width: 100px' data-class=foo data-style='width: 100px; height: 200px' data-width=3
      data-height=4 data-src=/ data-srcset=/ data-alt=bar>
      <span style='padding-top: 200%'></span>
    </span>

    <!-- Detached. -->
    <img class='foo pagelib-lazy-load-image-loading' style='width: 100px; height: 200px' width=3
      height=4 src=/ srcset=/ alt=bar>

- Error:
    <span class='foo pagelib-lazy-load-placeholder pagelib-lazy-load-placeholder-error'
      style='width: 100px' data-class=foo data-style='width: 100px; height: 200px' data-width=3
      data-height=4 data-src=/ data-srcset=/ data-alt=bar>
      <span style='padding-top: 200%'></span>
    </span>

- Loaded:
    <img class='foo pagelib-lazy-load-image-loaded' style='width: 100px; height: 200px' width=3
      height=4 src=/ srcset=/ alt=bar> */

/* LazyLoadTransform.PLACEHOLDER_CLASS. Present in all placeholder states. Image is not shown. */
.pagelib-lazy-load-placeholder {
  display: inline-block;
  max-width: 100%;
  /* width is an inline style. */
}

.pagelib-lazy-load-placeholder span {
  display: block;
  width: 100%;
  /* padding-top is an inline style. */
}

/* LazyLoadTransform.PLACEHOLDER_PENDING_CLASS. Download pending, image is not shown. */
.pagelib-lazy-load-placeholder-pending {
  background-color: #eaecf0;
}
.pagelib-theme-dark .pagelib-lazy-load-placeholder-pending {
  background-color: #72777d;
}

/* LazyLoadTransform.PLACEHOLDER_LOADING_CLASS. Download started, image is not shown. */
.pagelib-lazy-load-placeholder-loading {
  -webkit-animation: pagelib-lazy-load-placeholder-pulse 1s infinite;
  animation: pagelib-lazy-load-placeholder-pulse 1s infinite;
}
.pagelib-theme-dark .pagelib-lazy-load-placeholder-loading {
  -webkit-animation: pagelib-lazy-load-placeholder-pulse-dark 1s infinite;
  animation: pagelib-lazy-load-placeholder-pulse-dark 1s infinite;
}

/* LazyLoadTransform.PLACEHOLDER_ERROR_CLASS. Download failure, image is not shown. */
.pagelib-lazy-load-placeholder-error {
  background-color: #c8ccd1;
}
.pagelib-theme-dark .pagelib-lazy-load-placeholder-error {
  background-color: #54595d;
}

/* LazyLoadTransform.IMAGE_LOADING_CLASS. Download started, image is not shown. */
.pagelib-lazy-load-image-loading {
  opacity: 0;
}

/* LazyLoadTransform.IMAGE_LOADED_CLASS. Download completed, placeholder is removed. */
.pagelib-lazy-load-image-loaded {
  -webkit-animation: pagelib-lazy-load-image-fade-in .3s ease-in;
  animation: pagelib-lazy-load-image-fade-in .3s ease-in;
}

/* Many images, such as the Barack Obama infobox image, expect middle alignment.
   https://en.m.wikipedia.org/wiki/Barack_Obama?oldid=789232530 */
.content .pagelib-lazy-load-placeholder {
  vertical-align: middle;
}

/* https://phabricator.wikimedia.org/diffusion/EMOB/browse/master/styles/android/parsoid.less;4964fcc32aa9d68238dbc8ef59ebadb03d276e62$10 */
.content figure .pagelib-lazy-load-placeholder {
  margin: .6em auto;
  display: block;
  clear: both;
}

@-webkit-keyframes pagelib-lazy-load-placeholder-pulse {
  0%, 100% { background-color: #eaecf0; } 50% { background-color: #c8ccd1; }
}

@keyframes pagelib-lazy-load-placeholder-pulse {
  0%, 100% { background-color: #eaecf0; } 50% { background-color: #c8ccd1; }
}

@-webkit-keyframes pagelib-lazy-load-placeholder-pulse-dark {
  0%, 100% { background-color: #72777d; } 50% { background-color: #a2a9b1; }
}

@keyframes pagelib-lazy-load-placeholder-pulse-dark {
  0%, 100% { background-color: #72777d; } 50% { background-color: #a2a9b1; }
}

@-webkit-keyframes pagelib-lazy-load-image-fade-in {
  from { opacity: 0; } to { opacity: 1; }
}

@keyframes pagelib-lazy-load-image-fade-in {
  from { opacity: 0; } to { opacity: 1; }
}
.pagelib-theme-dark.pagelib-compatibility-filter img.mwe-math-fallback-image-inline {
  background: #ccc;
  padding: 2px;
}

.pagelib-theme-dark img.mwe-math-fallback-image-inline {
  -webkit-filter: invert(100%);
  filter: invert(100%);
}

.pagelib-theme-dark img.pagelib-theme-image-no-background.pagelib-theme-image-nontabular:not(.mwe-math-fallback-image-inline),
.pagelib-theme-dark .infobox .image img.pagelib-theme-image-no-background:not(.mwe-math-fallback-image-inline) {
  background: #fff;
}

.pagelib-theme-dark body {
  color: #f8f9fa;
  background: #2e3136;
}

.pagelib-theme-sepia body {
  color: #222;
  background: #f8f1e3;
}

.pagelib-theme-dark a {
  color: #69f;
}

.pagelib-theme-sepia a {
  color: #36c;
}

.pagelib-theme-dark a.external, .pagelib-theme-sepia a.external {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAGJJREFUKFN1jdENgCAMBYmJn47Bak7DZrhTpc/XIm34OAjXA4qIgHI/dSBbLGTcOKjBryFlinGmjDQGiOF0MQkxI3v5wq6L38qR7SnsAx8ul37igPjAd+o5Oz2MRA+xY4ZSXuaW6wYouOLpAAAAAElFTkSuQmCC);
}

.pagelib-theme-dark .content table.infobox,
.pagelib-theme-dark .content table.infobox th {
  /* The infobox background. Some backgrounds need important to override inline styles like
     https://en.m.wikipedia.org/wiki/Wolverine_(character)?oldid=789987909.
     https://phabricator.wikimedia.org/diffusion/SMIN/browse/master/resources/skins.minerva.content.styles/hacks.less;2cc9516cde6027234de9881d503ed7161e0e2ace$44 */
  background: #43464a !important;
}

/* Same specificity as in MobileFrontend/less/content/hacks.less */
.pagelib-theme-dark .content table.infobox tr {
  /* The infobox row background. Some backgrounds need important to override inline styles like
     https://en.m.wikipedia.org/wiki/Wolverine_(character)?oldid=789987909. */
  background: #27292d !important;
}

.pagelib-theme-dark li.gallerybox div.thumb {
  border-color: #43464a;
  background: #27292d;
}

.pagelib-theme-dark .content table td,
.pagelib-theme-dark .content table th,
.pagelib-theme-dark .content table.infobox th,
.pagelib-theme-dark .content table.infobox td {
  /* The border around infobox columns.
     https://phabricator.wikimedia.org/diffusion/SMIN/browse/master/resources/skins.minerva.content.styles/hacks.less;2cc9516cde6027234de9881d503ed7161e0e2ace$49 */
  border-color: #43464a;
}

.content figcaption, .content .thumbcaption {
  color: #a2a9b1;
}
.wideImageOverride {
  /* Center images. */
  display: block;
  margin-left: auto;
  margin-right: auto;
  /* Ensure widening can take effect with proportional height change */
  height: auto !important;
}

@media (orientation: portrait) {
  img.wideImageOverride {
    width: 100% !important;
    max-width: 100% !important;
  }
  .wideImageOverride.pagelib-lazy-load-placeholder {
    /* This is necessary to avoid collapsed flexbox behavior on .thumbinner on Android KitKat 4.4.2
       (API 19), e.g. Verizon Samsung Galaxy Note II (SCH-I605).
       https://stackoverflow.com/a/23754080/970346
       https://stackoverflow.com/a/33503864/970346 */
      min-width: 100%;
  }

  /* Tablet override */
  @media (min-device-width: 768px) {
    img.wideImageOverride {
      width: 60% !important;
      max-width: 60% !important;
    }
    .wideImageOverride.pagelib-lazy-load-placeholder {
      min-width: 60%;
    }
  }
}

@media (orientation: landscape) {
  img.wideImageOverride {
    width: 50% !important;
    max-width: 50% !important;
  }
  .wideImageOverride.pagelib-lazy-load-placeholder {
    min-width: 50%;
  }
}

/* Center text beneath images now that images are centered. */
.thumbinner, .gallerytext {
  text-align: center;
}

/* Parsoid: center text beneath images now that images are centered. */
figcaption {
  text-align: center;
}

/* Add a little breathing room beneath thumb captions - see enwiki "Vincent van Gogh > Paris (1886-1888)" */
.thumbcaption {
  margin-bottom: 1.5em !important;
}

/* Wrangle extra margin - see enwiki "Claude Monet > Impressionism" */
li.gallerybox div.thumb > div {
  margin: 0px !important;
}
div.gallerytext > p {
  margin-top: 0px !important;
}